
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hexo">
    <title>Hexo</title>
    <meta name="author" content="Shiladitya Bose">
    
    
    
        
            <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"Website","@id":"https://s-bose.github.io","author":{"@type":"Person","name":"Shiladitya Bose","sameAs":["https://github.com/s-bose","https://stackoverflow.com/users/5094261/shiladitya-bose","https://www.linkedin.com/in/shiladitya-bose/","mailto:shiladitya.bose@outlook.com"],"image":"avatar.jpg"},"name":"Hexo","description":"","url":"https://s-bose.github.io"}</script>
    <meta property="og:type" content="blog">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="https://s-bose.github.io/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Shiladitya Bose">
<meta name="twitter:card" content="summary">
    
    
        
    
    
        <meta property="og:image" content="https://s-bose.github.io/assets/images/avatar.jpg"/>
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-rtbx56i4odq2bmdkfkw0tuu3b2m9dr8f4v8xczcezp2njcafsmyh79erc4pp.min.css">

    <!--STYLES END-->
    

    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            Hexo
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /#about"
            >
        
        
            <img class="header-picture" src="/assets/images/avatar.jpg" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="1">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="Read more about the author"
                >
                    <img class="sidebar-profile-picture" src="/assets/images/avatar.jpg" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">Shiladitya Bose</h4>
                
                    <h5 class="sidebar-profile-bio"><p>I like working on stuffs, and making stuffs work.</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="Search"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/s-bose"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://stackoverflow.com/users/5094261/shiladitya-bose"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Stack Overflow"
                        >
                        <i class="sidebar-button-icon fab fa-stack-overflow" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Stack Overflow</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.linkedin.com/in/shiladitya-bose/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="mailto:shiladitya.bose@outlook.com"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="1"
                 class="
                        hasCoverMetaIn
                        ">
                <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2022/03/22/prototype-pattern/"
                            aria-label=": prototype-pattern"
                        >
                            prototype-pattern
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2022-03-22T23:19:04+05:30">
	
		    Mar 22, 2022
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/programming/">programming</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>Some questions first, we know that in order to implement polymorphism the right way, i.e, dynamic binding and LSP (Liskov Substitution Principle), we have to make the functions <code>virtual</code>, sometimes pure virtual, and then reimplement them in the Derived class with an <code>override</code> keyword.</p>
<p>We also need to separate the interface from the implementation, i.e, make the virtual function to be overriden <code>private</code>, and make a proxy <code>public</code> interface function in Base that simply calls the private function. We only need to reimplement the <code>private</code> <code>virtual</code> function in Derived. A simple example is shown below.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">call</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">vCall</span><span class="params">()</span></span>; <span class="comment">// override in derived</span></span><br><span class="line">		<span class="comment">// virtual void vCall() = 0; // pure virtual, if base has nothing to do</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">Base::call</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">vCall</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Base::vHello</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	std::cout &lt;&lt; <span class="string">&quot;Base vHello called\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Derived</span>:</span> <span class="keyword">public</span> Base</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">vHello</span><span class="params">()</span> <span class="keyword">override</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Derived::vHello</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	std::cout &lt;&lt; <span class="string">&quot;Derived vHello called\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Base *bp = <span class="keyword">new</span> Derived;</span><br><span class="line">	Base *bp1 = <span class="keyword">new</span> Base;</span><br><span class="line">	bp-&gt;<span class="built_in">hello</span>(); <span class="comment">// Derived</span></span><br><span class="line">	bp1-&gt;<span class="built_in">hello</span>(); <span class="comment">// Base</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>This is pretty standard when it comes to providing polymorphic support for some member functions. In addition, if Base class acquires some dynamic memory it also needs to free them, therefore providing a destructor, but the problem is, if Base only has a normal destructor, then using LSP, the Base pointer pointing to a Derived object, once out of scope, will trigger the destructor for Base class only, since there is no v_table entry for destructor, thus if Derived also has some dynamic allocation, they cannot be freed, leading to memory leak. Thus, we also have virtual destructors which work pretty much the same way.</p>
<h2 id="Virtual-Constructor"><a href="#Virtual-Constructor" class="headerlink" title="Virtual Constructor???"></a>Virtual Constructor???</h2><p>Well, it does not make sense. In order for virtual constructor to work, we need to have a v_ptr entry for the address of the constructor function.</p>
<p>but the constructor of a class should have the same type as the class itself. But at the time of construction, the type does not exist yet, as the class object hasn’t been created yet, so we don’t know what the v_ptr should point to, it creates a paradox.</p>
<p>At the same time, v_ptr and vtables are items instantiated for each class objects. There is no vtable before the object creation.</p>
<p>at the time of calling the constructor, <strong>the <a target="_blank" rel="noopener" href="https://www.learncpp.com/cpp-tutorial/the-virtual-table/">virtual table</a> would not have been created</strong> to resolve any virtual function calls. Thus, a virtual constructor itself would not have anywhere to look up to.</p>
<p>Such is the reason why the variants of constructors, such as copy or move constructors also cannot be made virtual.</p>
<p>But we can get around that problem using Prototype design pattern. We want to be able to create copies of a Derived object through a Base ptr or ref to that Derived obj (using LSP).</p>
<p>In this protocol, we make the Base class an abstract base class (ABC), with atleast one pure virtual function, and it does not have a copy constructor.</p>
<p>Generally, it has two functions, a public interface <code>clone()</code> and a private pure virtual, <code>copy()</code> signalling reimplementation in Derived classes.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="built_in">Base</span>(Base <span class="keyword">const</span> &amp;) = <span class="keyword">delete</span>;</span><br><span class="line">		<span class="keyword">virtual</span> ~<span class="built_in">Base</span>();</span><br><span class="line">		<span class="function">Base *<span class="title">clone</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="function"><span class="keyword">virtual</span> Base *<span class="title">copy</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> Base *<span class="title">Base::clone</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">copy</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// not inline</span></span><br><span class="line">Base::~<span class="built_in">Base</span>()</span><br><span class="line">&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>We offer a Wrapper class over Base that provides the copy functionalities:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Wrapper</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	Base *d_bp;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="built_in">Wrapper</span>();</span><br><span class="line">		<span class="function"><span class="keyword">explicit</span> <span class="title">Wrapper</span><span class="params">(Wrapper *bp)</span></span>;</span><br><span class="line">		~<span class="built_in">Wrapper</span>();</span><br><span class="line">		<span class="built_in">Wrapper</span>(Wrapper <span class="keyword">const</span> &amp;other);</span><br><span class="line">		<span class="built_in">Wrapper</span>(Wrapper &amp;&amp;tmp);</span><br><span class="line">		Wrapper &amp;<span class="keyword">operator</span>=(Wrapper <span class="keyword">const</span> &amp;other);</span><br><span class="line">		Wrapper &amp;<span class="keyword">operator</span>=(Wrapper &amp;&amp;tmp);</span><br><span class="line">		<span class="function">Base &amp;<span class="title">getBase</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="title">Wrapper::Wrapper</span><span class="params">()</span></span></span><br><span class="line"><span class="function">:</span></span><br><span class="line"><span class="function">	d_bp(<span class="number">0</span>)</span></span><br><span class="line"><span class="function">&#123;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="title">Wrapper::Wrapper</span><span class="params">(Wrapper *bp)</span></span></span><br><span class="line"><span class="function">:</span></span><br><span class="line"><span class="function">	d_bp(bp)</span></span><br><span class="line"><span class="function">&#123;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">inline</span> Wrapper::~<span class="built_in">Wrapper</span>()</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">delete</span> d_bp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="title">Wrapper::Wrapper</span><span class="params">(Wrapper <span class="keyword">const</span> &amp;other)</span></span></span><br><span class="line"><span class="function">:</span></span><br><span class="line"><span class="function">	d_bp(other.d_bp-&gt;clone())</span></span><br><span class="line"><span class="function">&#123;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="title">Wrapper::Wrapper</span><span class="params">(Wrapper &amp;&amp;tmp)</span></span></span><br><span class="line"><span class="function">:</span></span><br><span class="line"><span class="function">	d_bp(tmp.d_bp)</span></span><br><span class="line"><span class="function">&#123;</span></span><br><span class="line">	tmp.d_bp = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> Base &amp;<span class="title">Wrapper::getBase</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> *d_bp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Wrapper &amp;Wrapper::<span class="keyword">operator</span>=(Wrapper <span class="keyword">const</span> &amp;other)</span><br><span class="line">&#123;</span><br><span class="line">	Wrapper <span class="built_in">tmp</span>(other);</span><br><span class="line">	std::<span class="built_in">swap</span>(d_bp, tmp.d_bp);</span><br><span class="line">	<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Wrapper &amp;Wrapper::<span class="keyword">operator</span>=(Wrapper &amp;&amp;tmp)</span><br><span class="line">&#123;</span><br><span class="line">	std::<span class="built_in">swap</span>(d_bp, tmp.d_bp);</span><br><span class="line">	<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The Wrapper class exists to provide a unified copy-able interface for the entire family that derives from Base, all the Derived class needs to do is implement its <code>virtual copy()</code> method to return a new pointer to a copy of <code>this</code> </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Derived</span>:</span> <span class="keyword">public</span> Base</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		~<span class="built_in">Derived</span>() <span class="keyword">override</span>;</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="function">Base *<span class="title">copy</span><span class="params">()</span> <span class="keyword">const</span> <span class="keyword">override</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> Base *<span class="title">Derived::copy</span><span class="params">()</span> <span class="keyword">const</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Derived</span>(*<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="No-Copy-move-constructor-for-polymorphic-Base"><a href="#No-Copy-move-constructor-for-polymorphic-Base" class="headerlink" title="No Copy/move constructor for polymorphic Base?"></a>No Copy/move constructor for polymorphic Base?</h2><p>According to C++ guidelines, C.67, <strong><strong>A polymorphic class should suppress public copy/move</strong></strong></p>
<p><a target="_blank" rel="noopener" href="https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Rc-copy-virtual">C++ Core Guidelines</a></p>
<p>This is because, whenever the polymorphic Base class has implicitly defined copy/move constructors in place, </p>
<p>If it is accidentally passed by value, with the implicitly generated copy constructor and assignment, we risk slicing: only the base portion of a derived object will be copied, and the polymorphic behaviour will be corrupted.</p>
<p>This is why, we have to either delete the implicit copy/move constructor like we did in the last example, if the Base class does not have any data, or else make the constructors protected, so the copying can only be done from the context of Derived class.</p>
<p>For more example, the link is useful, check C.67 for this particular issue. –&gt;</p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2022/03/22/prototype-pattern/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
            <a
                href="/2022/03/22/prototype-pattern/"
                aria-label=": prototype-pattern"
            >
                <div class="postShorten-thumbnailimg">
                    <img alt="" src="https://s-bose.github.io/2022/03/22/prototype-pattern/cpp.png"/>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-left">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2022/02/12/second-post/"
                            aria-label=": A roadmap to CPP"
                        >
                            A roadmap to CPP
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2022-02-12T00:00:00+05:30">
	
		    Feb 12, 2022
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/programming/">programming</a>


    
</div>

            </div>
            
                <div class="postShorten-excerpt">
                    <span id="more"></span>

<p>A step-by-step guide for learning Modern C++ in 2022</p>
                    
                        <a
                            href="/2022/02/12/second-post/"
                            class="postShorten-excerpt_link link"
                            aria-label=": A roadmap to CPP"
                        >
                            Continue reading
                        </a>
                        
                    
                </div>
            
        </div>
        
            <a
                href="/2022/02/12/second-post/"
                aria-label=": A roadmap to CPP"
            >
                <div class="postShorten-thumbnailimg">
                    <img alt="" src="https://s-bose.github.io/2022/02/12/second-post/cpp.png"/>
                </div>
            </a>
            
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-left">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2022/01/01/hello-world/"
                            aria-label=": Hello World"
                        >
                            Hello World
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2022-01-01T00:00:00+05:30">
	
		    Jan 01, 2022
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/general/">general</a>


    
</div>

            </div>
            
                <div class="postShorten-excerpt">
                    <span id="more"></span>

<p>First Post</p>
                    
                        <a
                            href="/2022/01/01/hello-world/"
                            class="postShorten-excerpt_link link"
                            aria-label=": Hello World"
                        >
                            Continue reading
                        </a>
                        
                    
                </div>
            
        </div>
        
            <a
                href="/2022/01/01/hello-world/"
                aria-label=": Hello World"
            >
                <div class="postShorten-thumbnailimg">
                    <img alt="" src="https://s-bose.github.io/2022/01/01/hello-world/coffee.jpg"/>
                </div>
            </a>
            
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        
        <li class="pagination-number">page 1 of 1</li>
    </ul>
</div>

</section>


                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2022 Shiladitya Bose. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/avatar.jpg" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">Shiladitya Bose</h4>
        
            <div id="about-card-bio"><p>I like working on stuffs, and making stuffs work.</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Software Engineer at Tata Consultancy Services Ltd.</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                Kolkata, India
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.png');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-2ssuxofyypnsxvfaeadayhobdjy1rr1lmx51d3nvo0yeofwiu7o0qizwgl7p.min.js"></script>

<!--SCRIPTS END-->





    </body>
</html>
